{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Notification/Notification.js","components/Modal/Modal.js","servises/pixabayApi.js","App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","onClick","map","image","src","webformatURL","data-sourse","largeImageURL","alt","id","ImageGallery","Button","Notification","message","Modal","handleKeyDown","code","onClose","console","log","window","addEventListener","removeEventListener","searchQuery","page","KEYAPI","axios","get","then","response","data","hits","App","loading","error","showModal","fetchImages","pixabayApi","prevState","catch","finally","handleSearchBarSubmit","query","toggleModal","dataset","sourse","prevProps","prevQuery","nextQuery","nextPage","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","timeout","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8a2c4e36.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      inputValue: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    // console.log(this.state.inputValue);\n    this.props.onSubmit(this.state.inputValue);\n    this.setState({\n      inputValue: '',\n    });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\" onSubmit={this.handleSubmit}>\n        <form className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputValue}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","export default function ImageGalleryItem({ images, onClick }) {\n  return (\n    <>\n      {images.map(image => (\n        <li className=\"ImageGalleryItem\" key={image.id}>\n          <img\n            onClick={onClick}\n            src={image.webformatURL}\n            data-sourse={image.largeImageURL}\n            alt=\"\"\n            className=\"ImageGalleryItem-image\"\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ images, onClick }) {\n  return (\n    <div>\n      <ul className=\"ImageGallery\">\n        <ImageGalleryItem images={images} onClick={onClick} />\n      </ul>\n    </div>\n  );\n}\n","export default function Button({ onClick }) {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n","export default function Notification(message) {\n  return <div>{message}</div>;\n}\n","import React, { Component } from 'react';\n\nexport class Modal extends Component {\n  componentDidMount() {\n    console.log('modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose(e);\n    }\n  };\n  render() {\n    return (\n      <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\n  const KEYAPI = '19156782-f4e949a45fa5f59b2c0db0877';\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEYAPI}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default {\n  fetchImagesWithQuery,\n};\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Notification from './components/Notification/Notification';\nimport Modal from './components/Modal/Modal';\n\nimport pixabayApi from './servises/pixabayApi';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    largeImageURL: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    // const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n    if (nextPage > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n\n    pixabayApi\n      .fetchImagesWithQuery(searchQuery, page)\n      .then(images => {\n        console.log(images);\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleSearchBarSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  toggleModal = e => {\n    const largeImageURL = e.target.dataset.sourse;\n    this.setState(state => ({ showModal: !state.showModal, largeImageURL }));\n  };\n\n  render() {\n    const { images, loading, error, showModal, largeImageURL } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchBarSubmit} />\n        {error && (\n          <Notification\n            message={`Whoops, something went wrong:${error.message}`}\n          />\n        )}\n        {loading && (\n          <Loader\n            type=\"Circles\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={0}\n          />\n        )}\n        {images.length > 0 && !loading && (\n          <ImageGallery images={images} onClick={this.toggleModal} />\n        )}\n        {images.length > 0 && !loading && <Button onClick={this.fetchImages} />}\n\n        {showModal && (\n          <Modal largeImageURL={largeImageURL} onClose={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}